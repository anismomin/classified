{"version":3,"sources":["app/jwt/home.ts"],"names":[],"mappings":"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","file":"app/jwt/home.js","sourcesContent":["import { Component} from \"angular2/core\";\nimport { MdButton } from \"@angular2-material/button\";\nimport { Http, Headers, RequestOptions } from \"angular2/http\";\nimport \"rxjs/operator/map\";\n\n@Component({\n\ttemplateUrl: `/app/jwt/home.html`,\n\tdirectives: [MdButton]\n})\nexport class AuthComponent {\n\tresponse: any;\n\tdata: any;\n\terror: any;\n\tuser: any = {\n\t\tpassword: \"angualr2express\",\n\t\tusername: \"john\"\n\t};\n\tconstructor(public http: Http) {}\n\tsignup() {\n\n\t\tthis.http.post(\"/login/signup\", JSON.stringify({ password: this.user.password, username: this.user.username }), new RequestOptions({\n\t\t\theaders: new Headers({\"Content-Type\": \"application/json\"})\n\t\t}))\n\t\t\t.map((res: any) => res.json())\n\t\t\t.subscribe(\n\t\t\t\t(res: any) => {\n\t\t\t\t\tthis.response = res;\n\t\t\t\t},\n\t\t\t\t(error: any) => {\n\t\t\t\t\tconsole.log(error.json());\n\t\t\t\t}\n\t\t\t);\n\t}\n\tcall() {\n\n\t\tdelete this.error;\n\t\tdelete this.data;\n\n\t\tthis.http.get(\"/api\", new RequestOptions({\n\t\t\theaders: new Headers({\"Auth\": localStorage.getItem(\"jwt\"), \"Content-Type\": \"application/json\"})\n\t\t}))\n\t\t\t.map((data: any) => data.json())\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.data = data;\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\tthis.error = error.json();\n\t\t\t\t}\n\t\t\t);\n\t}\n\tlogin() {\n\t\tthis.http.post(\"/login\", JSON.stringify({ password: this.user.password }), new RequestOptions({\n\t\t\theaders: new Headers({\"Content-Type\": \"application/json\"})\n\t\t}))\n\t\t\t.map((res: any) => res.json())\n\t\t\t.subscribe(\n\t\t\t\t(res: any) => {\n\t\t\t\t\tdelete this.error;\n\t\t\t\t\tthis.data = {\n\t\t\t\t\t\ttext: \"You can call protected api now\",\n\t\t\t\t\t\ttitle: \"Login succesfull\"\n\t\t\t\t\t};\n\t\t\t\t\tlocalStorage.setItem(\"jwt\", res.jwt);\n\t\t\t\t},\n\t\t\t\t(error: any) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t);\n\t}\n\tremove() {\n\t\tthis.error = { message: \"JWT removed\" };\n\t\tdelete this.data;\n\t\tlocalStorage.removeItem(\"jwt\");\n\t}\n}\n"],"sourceRoot":"/source/"}